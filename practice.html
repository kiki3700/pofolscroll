<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="./p.css" type="text/css">

    </head>
    <body>
        <div id ='a' style="top:30%;">
           <img src='resource/image/astronut.png'>
        </div>
        <div id ='b' style="bottom:-30%;">
           <img src="/resource/image/earth.png">
        </div>
        <script> 
        //문서 총 높이 계산
       var body = document.body,
        html = document.documentElement;
        var height = Math.max( body.scrollHeight, body.offsetHeight,          html.clientHeight, html.scrollHeight, html.offsetHeight );
                //엘리먼트 등록
                var a = document.getElementById('a')
                var b = document.getElementById('b')
                //변화량 측정하기 위해 이전값 등록
               var beforePosition = document.documentElement.scrollTop   
               window.__scrollPosition = document.documentElement.scrollTop || 0;  
            //이벤트리스너
            document.addEventListener('scroll',function(){
                //새 값
                var afterPosition = document.documentElement.scrollTop;
                let _documentY = document.documentElement.scrollTop;
                //변화량
                let _direction = _documentY - window.__scrollPosition 
                window.__scrollPosition = _documentY; // Update scrollY    
                //위치 변경
                a.style.top=parseInt(a.style.top.split("%")[0])+ 2*(_direction/height)+"%";
               b.style.bottom=parseInt(b.style.bottom.split("%")[0])+2*(_direction/height)+"%";
               //의미없는 콘솔
               console.log(_direction/height)
                 console.log(b.style.bottom)
                 console.log(a.style.top)
            })
        </script>
    </body>
</html>